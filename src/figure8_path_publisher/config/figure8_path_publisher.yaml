figure8_path_publisher:
  ros__parameters:
    publish_to_controller: true
    publish_to_px4: true
    publish_path: false
    publish_rate_hz: 50.0

    topics:
      controller_setpoint: /tanh_controller/trajectory_setpoint
      px4_setpoint: /fmu/in/trajectory_setpoint
      px4_offboard_control_mode: /fmu/in/offboard_control_mode
      px4_vehicle_command: /fmu/in/vehicle_command
      vehicle_odometry: /fmu/out/vehicle_odometry
      path: /figure8/path

    path:
      frame_id: map
      max_points: 500

    px4:
      publish_offboard_control_mode: true
      auto_offboard: true
      auto_arm: true
      offboard_warmup: 10

    takeoff:
      enable: true
      target_z: -2.0         # NED: 向上为负；建议与trajectory.center[2]保持一致，避免切换跳变
      z_threshold: 0.2
      hover_time_s: 5.0
      timeout_s: 0.0         # <=0表示不超时

    trajectory:
      amplitude_x: 2.0
      amplitude_y: 1.0
      period_s: 20.0
      center: [0.0, 0.0, -2.0]
      yaw_mode: hold    # tangent / fixed / hold（hold=保持初始航向）
      fixed_yaw: 0.0
      yaw_offset: 0.0
